let fc_base_url="https://widgets.fishingcab.com/Widgets/",fc_cdn_url="https://cdn-widgets.fishingcab.com/";if(!Object.prototype.hasOwnProperty.call(window,"fc_scriptBase")){let e="";const t=document.currentScript;if(t&&"string"==typeof t.src&&(e=t.src),!e){const t=document.getElementsByTagName("script"),n=t[t.length-1];n&&"string"==typeof n.src&&(e=n.src)}if(e){const t=e.replace(/\/[^\/?#]+(?:\?.*)?$/,"/");Object.defineProperty(window,"fc_scriptBase",{value:t,writable:!1,configurable:!1,enumerable:!1})}}function fc_scheduleBootstrap_fnc(){const e=()=>{"function"==typeof requestIdleCallback?requestIdleCallback(fc_bootstrap_fnc,{timeout:100}):setTimeout(fc_bootstrap_fnc,0)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}function fc_bootstrap_fnc(){const e=window.fc_widget_id;if(!e)return;let t=null,n=window.fc_cfg||{};function c(){if(!window.fc_cfg?.widget_id)return;n=window.fc_cfg;const e=`fc-chat-styles-${n.widget_id}`;let t=document.getElementById(e);t||(t=document.createElement("style"),t.id=e,document.head.appendChild(t));const c=n.button_color||"#0d6efd",i=n.button_text_color||"#ffffff";t.textContent=`\n        #fc-chat-btn-${n.widget_id} {\n          position: fixed;\n          bottom: 20px;\n          right: 20px;\n          width: 56px;\n          height: 56px;\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          z-index: 9999;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n          transition: transform 0.2s ease-in-out, background 0.2s ease-in-out;\n          border: 1px solid rgba(0,0,0,0.1);\n          background: ${c};\n          color: ${i};\n        }\n        #fc-chat-btn-${n.widget_id}:hover {\n          background: ${i};\n          color: ${c};\n          border-color: rgba(0,0,0,0.2);\n        }\n        .fc-hidden-${n.widget_id} { display: none !important; }\n      `}async function i(e,t=3,n=800){try{const t=new AbortController,n=setTimeout((()=>t.abort()),5e3),c=await fetch(e,{signal:t.signal});if(clearTimeout(n),!c.ok)throw new Error("Fetch failed");return await c.json()}catch{return t>0?(await new Promise((e=>setTimeout(e,n))),i(e,t-1,2*n)):null}}async function o(){const o=await i(`${fc_base_url}config/${e}`);if(!o)return;if(window.fc_cfg=o,n=window.fc_cfg,!n?.widget_id)return;"function"==typeof requestIdleCallback?requestIdleCallback(c):setTimeout(c,50);const d=fc_getCookie_fnc("fc_user_public_key"),r=fc_getCookie_fnc("fc_user_secret_key"),s=!(!d||!r);let a=document.getElementById(`fc-chat-btn-${e}`);a||(a=document.createElement("div"),a.id=`fc-chat-btn-${e}`,a.role="button",a.title=n.title||"Chat",a.innerHTML='\n          <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">\n            <path d="M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H8l-4 4v-4H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z"/>\n          </svg>',document.body.appendChild(a)),t=document.getElementById(`fc-messenger-window-${e}`),t||(t=document.createElement("div"),t.id=`fc-messenger-window-${e}`,t.className=`fc-messenger-window-${e}`,document.body.appendChild(t)),"hidden"===fc_getCookie_fnc("fc_messenger_state")&&t.classList.add(`fc-hidden-${e}`),s?(t.innerHTML=`\n          <div style="background:${n.accent_color};padding:8px;color:#fff">\n            ${n.title}\n          </div>\n          <div id="fc-content-${e}" style="padding:10px">\n            Loading chats...\n          </div>`,fc_loadScript_fnc("messenger-min.js",(async()=>{if("function"==typeof fc_showMessenger_fnc){fc_showMessenger_fnc(n,d,r);try{await fc_realTime_fnc("initialize",d,r,"","",(function(){fc_getUpdates_fnc("initialize",n,d,r)}))}catch(e){console.error("Messenger init failed:",e)}}}))):(t.innerHTML=`\n          <div id="fc-messenger-wizard-${e}">\n            <div id="fc-signup-step1-${e}"></div>\n            <div id="fc-signup-step2-${e}" style="display:none"></div>\n            <div id="fc-signup-step3-${e}" style="display:none"></div>\n          </div>`,fc_loadScript_fnc("login-min.js",(()=>{"function"==typeof fc_renderStep1_fnc&&fc_renderStep1_fnc(n)}))),a.dataset.bound||(a.dataset.bound="1",a.addEventListener("click",(()=>{t.classList.toggle(`fc-hidden-${e}`),fc_setCookie_fnc("fc_messenger_state",t.classList.contains(`fc-hidden-${e}`)?"hidden":"visible")})))}window.fc_getCookie_fnc=function(e){try{return document.cookie.split("; ").find((t=>t.startsWith(e+"=")))?.split("=")[1]||null}catch{return null}},window.fc_setCookie_fnc=function(e,t,n=365){try{document.cookie=`${e}=${encodeURIComponent(t)}; expires=${new Date(Date.now()+864e5*n).toUTCString()}; path=/; SameSite=Lax`+("https:"===location.protocol?"; Secure":"")}catch{}},window.fc_deleteCookie_fnc=function(e){try{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; SameSite=Lax`+("https:"===location.protocol?"; Secure":"")}catch{}},window.fc_loadScript_fnc=function(e,t){if(!window.fc_scriptBase||!e)return;const n=window.fc_scriptBase+e;if(document.querySelector(`script[src="${n}"]`))return void("function"==typeof t&&t());const c=document.createElement("script");c.src=n,c.async=!0,c.defer=!0,"function"==typeof t&&(c.onload=t),c.onerror=function(){console.error("Failed to load script:",n)},document.body.appendChild(c)},fc_loadScript_fnc("login-min.js",(function(){fc_loadScript_fnc("messenger-min.js")})),"function"==typeof requestIdleCallback?requestIdleCallback(o):setTimeout(o,100)}fc_scheduleBootstrap_fnc();